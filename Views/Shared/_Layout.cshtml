<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Find your dream job with our comprehensive job portal. Connect with top employers and advance your career." />
    <title>@ViewData["Title"] - Jobify</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="~/css/custom-bootstrap.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/enhanced-design.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/WebApplication2.styles.css" asp-append-version="true" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: "Inter", sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #113F67 0%, #34699A 100%);
        }
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(17, 63, 103, 0.15);
        }
        .text-primary-custom {
            color: #113F67;
        }
        .text-secondary-custom {
            color: #34699A;
        }
        .text-accent {
            color: #FDF5AA;
        }
        .bg-primary-custom {
            background-color: #764ba2;
        }
    </style>
</head>
<body class="subtle-pattern">
    <div id="page-container">
        <a class="skip-link" href="#main-content">Skip to content</a>
        <header>
            <nav class="navbar navbar-expand-lg navbar-dark gradient-bg shadow-sm sticky-top">
                <div class="container">
                    <a class="navbar-brand d-flex align-items-center gap-2" asp-area="" asp-controller="Home" asp-action="Index">
                        <i class="bi bi-briefcase-fill fs-3 text-accent"></i>
                        <span class="fs-3 fw-bold text-accent">Jobify</span>
                    </a>
                    <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="navbar-collapse collapse d-lg-inline-flex justify-content-between">
                        <ul class="navbar-nav flex-grow-1 gap-2">
                            <li class="nav-item">
                                <a class="nav-link text-accent fw-semibold" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="bi bi-house-door-fill me-1"></i> Home
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-accent fw-semibold" href="#about">
                                    <i class="bi bi-info-circle-fill me-1"></i> About
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-accent fw-semibold" asp-area="" asp-controller="Company" asp-action="Index">
                                    <i class="bi bi-buildings-fill me-1"></i> Companies
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-accent fw-semibold" asp-area="" asp-controller="Jobs" asp-action="Search">
                                    <i class="bi bi-search me-1"></i> Browse Jobs
                                </a>
                            </li>
                            @if (User.Identity != null && User.Identity.IsAuthenticated)
                            {
                                @if (User.IsInRole("JobSeeker"))
                                {
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-controller="JobSeeker" asp-action="Dashboard">
                                            My Dashboard
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-controller="Jobs" asp-action="SavedJobs">
                                            Saved Jobs
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-controller="Applications" asp-action="MyApplications">
                                            My Applications
                                        </a>
                                    </li>
                                }
                                else if (User.IsInRole("Employee"))
                                {
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-controller="Employee" asp-action="Dashboard">
                                            Dashboard
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-controller="Jobs" asp-action="Index">
                                            Manage Jobs
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-controller="Applications" asp-action="AllApplications">
                                            Applications
                                        </a>
                                    </li>
                                }
                            }
                        </ul>
                        <ul class="navbar-nav gap-2">
                            @if (User.Identity != null && User.Identity.IsAuthenticated)
                            {
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle text-accent fw-semibold" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="bi bi-person-circle me-1"></i> <span class="d-none d-md-inline">Account</span>
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-end shadow-sm" aria-labelledby="navbarDropdown">
                                        @if (User.IsInRole("JobSeeker"))
                                        {
                                            <li><a class="dropdown-item" asp-controller="JobSeeker" asp-action="Dashboard">
                                                <i class="bi bi-person me-2"></i>My Profile</a>
                                            </li>
                                            <li><a class="dropdown-item" asp-controller="Applications" asp-action="MyApplications">
                                                <i class="bi bi-file-earmark-text me-2"></i>My Applications</a>
                                            </li>
                                        }
                                        else if (User.IsInRole("Employee"))
                                        {
                                            <li><a class="dropdown-item" asp-controller="Employee" asp-action="Dashboard">
                                                <i class="bi bi-person me-2"></i>My Profile</a>
                                            </li>
                                            <li><a class="dropdown-item" asp-controller="Jobs" asp-action="Index">
                                                <i class="bi bi-briefcase me-2"></i>Manage Jobs</a>
                                            </li>
                                        }
                                        <li><hr class="dropdown-divider"></li>
                                        <li>
                                            <form asp-controller="Account" asp-action="Logout" method="post" id="logoutForm">
                                                @Html.AntiForgeryToken()
                                                <a class="dropdown-item text-danger" href="javascript:void(0)" onclick="document.getElementById('logoutForm').submit()">
                                                    <i class="bi bi-box-arrow-right me-2"></i>Logout
                                                </a>
                                            </form>
                                        </li>
                                    </ul>
                                </li>
                            }
                            else
                            {
                                <li class="nav-item me-2">
                                    <a class="nav-link text-accent fw-semibold" asp-controller="Account" asp-action="Login">
                                        <i class="bi bi-box-arrow-in-right me-1"></i> Login
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="btn btn-accent rounded-3 px-3 py-2 fw-bold" asp-controller="Account" asp-action="Register">
                                        <i class="bi bi-person-plus-fill me-1"></i> Register
                                    </a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
        <div id="content-wrap">
            <main id="main-content" role="main" class="@(ViewData["TransparentBackground"]?.ToString() == "true" ? "" : "py-4")">
                @RenderBody()
            </main>
        </div>

        <footer class="bg-dark text-white py-5">
            <div class="container">
                <div class="row g-4">
                    <div class="col-md-3">
                        <div class="text-accent fw-bold fs-4 mb-3">Jobify</div>
                        <p class="text-secondary">
                            The premier job platform connecting talented professionals with top employers across all industries.
                        </p>
                    </div>
                    <div class="col-md-3">
                        <h3 class="fs-5 fw-semibold mb-3">Explore</h3>
                        <div class="d-flex flex-column gap-2">
                            <a asp-controller="Home" asp-action="Index" class="text-decoration-none text-secondary">Home</a>
                            <a href="#about" class="text-decoration-none text-secondary">About</a>
                            <a asp-controller="Company" asp-action="Index" class="text-decoration-none text-secondary">Companies</a>
                            <a asp-controller="Jobs" asp-action="Search" class="text-decoration-none text-secondary">Browse Jobs</a>
                            <a asp-controller="Home" asp-action="Privacy" class="text-decoration-none text-secondary">Privacy Policy</a>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <h3 class="fs-5 fw-semibold mb-3">For Employers</h3>
                        <div class="d-flex flex-column gap-2">
                            <a asp-controller="Account" asp-action="RegisterEmployee" class="text-decoration-none text-secondary">Post a Job</a>
                            <a asp-controller="Jobs" asp-action="Create" class="text-decoration-none text-secondary">Create Job Listing</a>
                            <a asp-controller="Employee" asp-action="Dashboard" class="text-decoration-none text-secondary">Employer Dashboard</a>
                            <a asp-controller="Applications" asp-action="AllApplications" class="text-decoration-none text-secondary">Manage Applications</a>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <h3 class="fs-5 fw-semibold mb-3">Contact</h3>
                        <div class="d-flex flex-column gap-2 text-secondary">
                            <div><i class="bi bi-envelope me-2"></i> support@jobportal.com</div>
                            <div><i class="bi bi-telephone me-2"></i> (555) 123-4567</div>
                            <div class="d-flex gap-3 mt-2">
                                <a href="#" class="text-decoration-none text-secondary"><i class="bi bi-facebook fs-5"></i></a>
                                <a href="#" class="text-decoration-none text-secondary"><i class="bi bi-twitter fs-5"></i></a>
                                <a href="#" class="text-decoration-none text-secondary"><i class="bi bi-linkedin fs-5"></i></a>
                                <a href="#" class="text-decoration-none text-secondary"><i class="bi bi-instagram fs-5"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="border-top border-secondary mt-4 pt-4 text-center text-secondary">
                    <p>&copy; @DateTime.Now.Year Jobify. All rights reserved.</p>
                </div>
            </div>
        </footer>

        <script src="~/lib/jquery/dist/jquery.min.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script>
        @await RenderSectionAsync("Scripts", required: false)
    </div><!-- End of page-container -->
</body>
</html>
